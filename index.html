<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>L2C Chat</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div id="chat">
  <input id="prompt" type="text" placeholder="Enter prompt" autofocus>
  <button id="send">Send</button>
</div>
<pre id="response"></pre>
<span id="cursor" class="cursor">â–ˆ</span>
<script>
const input = document.getElementById('prompt');
const output = document.getElementById('response');
const cursor = document.getElementById('cursor');
const send = () => {
  fetch('/chat', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({prompt: input.value})
  })
  .then(r => r.json())
  .then(d => { output.textContent = d.response; });
};

input.addEventListener('keydown', e => { if (e.key === 'Enter') { send(); } });
document.getElementById('send').onclick = send;
</script>
</body>
</html>
